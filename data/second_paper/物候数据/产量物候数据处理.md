# 产量物候数据处理

### [原始数据](https://usda.library.cornell.edu/concern/publications/8336h188j?locale=en&page=96#release-items)认知

1. 2013年有两周的数据因为经费不足而数据缺失（美国农业部宣布取消和推迟部分报告 受联邦资金中断影响）![image-20220906091307302](C:\Users\lx\AppData\Roaming\Typora\typora-user-images\image-20220906091307302.png)

2. 手工方式将12个州的物候表整理好，包括大豆和玉米从2003年到2021年的物候数据![image-20220906163153081](C:\Users\lx\AppData\Roaming\Typora\typora-user-images\image-20220906163153081.png)

3. 大豆的六个物候阶段：Planted, Emerged, Blooming, Setting pods, Dropping leaves, Harvested
4. 玉米的七个物候阶段：Planted, Emerged, Silking, Dough, Dented, Mature, Harvested

### 处理方法

1. 识别零值'-'和缺失数据'(NA)'
2. 将周数据向上采样到日数据
- [三次多项式插值]([pandas.Series.interpolate — pandas 1.4.4 documentation (pydata.org)](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.interpolate.html))
- 去掉0-100闭区间以外的数据

3. 计算25%、50%、75%作物过程的时间
4. 合并多年为一张物候总表：2003-2021

### 处理结果

**关于大豆玉米在2003-2021年的两张物候表**

- 大豆

|      | 年份 | 州       | 大豆物候        | 25                  | 50                  | 75                  |
| ---- | ---- | -------- | --------------- | ------------------- | ------------------- | ------------------- |
| 0    | 2003 | Illinois | Planted         | 2003-05-19 00:00:00 | 2003-05-24 00:00:00 | 2003-06-02 00:00:00 |
| 13   | 2003 | Illinois | Emergrd         | 2003-05-28 00:00:00 | 2003-06-04 00:00:00 | 2003-06-13 00:00:00 |
| 26   | 2003 | Illinois | Blooming        | 2003-07-13 00:00:00 | 2003-07-21 00:00:00 | 2003-07-29 00:00:00 |
| 39   | 2003 | Illinois | Setting Pods    | 2003-07-31 00:00:00 | 2003-08-08 00:00:00 | 2003-08-16 00:00:00 |
| 52   | 2003 | Illinois | Dropping Leaves | 2003-09-14 00:00:00 | 2003-09-21 00:00:00 | 2003-09-28 00:00:00 |
| 65   | 2003 | Illinois | Harvested       | 2003-10-01 00:00:00 | 2003-10-08 00:00:00 | 2003-10-17 00:00:00 |
| 0    | 2004 | Illinois | Planted         | 2004-05-07 00:00:00 | 2004-05-14 00:00:00 | 2004-05-25 00:00:00 |
| 13   | 2004 | Illinois | Emergrd         | 2004-05-16 00:00:00 | 2004-05-22 00:00:00 | 2004-06-06 00:00:00 |
| 26   | 2004 | Illinois | Blooming        | 2004-07-02 00:00:00 | 2004-07-08 00:00:00 | 2004-07-17 00:00:00 |
| 39   | 2004 | Illinois | Setting Pods    | 2004-07-18 00:00:00 | 2004-07-26 00:00:00 | 2004-08-05 00:00:00 |
| 52   | 2004 | Illinois | Dropping Leaves | 2004-09-08 00:00:00 | 2004-09-16 00:00:00 | 2004-09-25 00:00:00 |
| 65   | 2004 | Illinois | Harvested       | 2004-09-25 00:00:00 | 2004-10-03 00:00:00 | 2004-10-13 00:00:00 |

- 玉米

|      | 年份 | 州       | 玉米物候  | 25                  | 50                  | 75                  |
| ---- | ---- | -------- | --------- | ------------------- | ------------------- | ------------------- |
| 0    | 2003 | Illinois | Planted   | 2003-04-21 00:00:00 | 2003-04-28 00:00:00 | 2003-05-14 00:00:00 |
| 13   | 2003 | Illinois | Emergrd   | 2003-05-05 00:00:00 | 2003-05-14 00:00:00 | 2003-05-23 00:00:00 |
| 26   | 2003 | Illinois | Silking   | 2003-07-11 00:00:00 | 2003-07-16 00:00:00 | 2003-07-23 00:00:00 |
| 39   | 2003 | Illinois | Dough     | 2003-08-01 00:00:00 | 2003-08-09 00:00:00 | 2003-08-17 00:00:00 |
| 52   | 2003 | Illinois | Dented    | 2003-08-17 00:00:00 | 2003-08-27 00:00:00 | 2003-09-07 00:00:00 |
| 65   | 2003 | Illinois | Mature    | 2003-09-09 00:00:00 | 2003-09-18 00:00:00 | 2003-09-25 00:00:00 |
| 78   | 2003 | Illinois | Harvested | 2003-10-02 00:00:00 | 2003-10-13 00:00:00 | 2003-10-23 00:00:00 |
| 0    | 2004 | Illinois | Planted   | 2004-04-15 00:00:00 | 2004-04-21 00:00:00 | 2004-04-29 00:00:00 |
| 13   | 2004 | Illinois | Emergrd   | 2004-04-28 00:00:00 | 2004-05-05 00:00:00 | 2004-05-12 00:00:00 |
| 26   | 2004 | Illinois | Silking   | 2004-06-29 00:00:00 | 2004-07-05 00:00:00 | 2004-07-13 00:00:00 |
| 39   | 2004 | Illinois | Dough     | 2004-07-20 00:00:00 | 2004-07-25 00:00:00 | 2004-08-06 00:00:00 |
| 52   | 2004 | Illinois | Dented    | 2004-08-05 00:00:00 | 2004-08-16 00:00:00 | 2004-08-28 00:00:00 |
| 65   | 2004 | Illinois | Mature    | 2004-09-04 00:00:00 | 2004-09-13 00:00:00 | 2004-09-20 00:00:00 |
| 78   | 2004 | Illinois | Harvested | 2004-09-25 00:00:00 | 2004-10-05 00:00:00 | 2004-10-18 00:00:00 |

### 备注

1. 表格中Emerged写成了Emergrd，后续修改